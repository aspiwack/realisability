#+TITLE: Krivine realisability from scratch
#+AUTHOR: Arnaud Spiwack


* TODO Abstract

* TODO Introduction

* TODO Realisability in a few words

* Simple types

** Simply typed Î»-calculus

 Assume a set $I$ of individuals

 $$
 u,v ::= Î»x.u | u v | i âˆˆ I
 a,b ::= Î¹ | a â†’ b
 $$

 Typing rules
 $$
 Î“,x:a âŠ¢ u : b
 -------------
 Î“ âŠ¢ Î»x. u : a â†’ b

 Î“ âŠ¢ u : a â†’ b   Î“ âŠ¢ v : a
 -------------------------
 Î“ âŠ¢ u v : b

 ----------
 Î“ âŠ¢ i : Î¹
 $$

** Operational semantics

Given by a Krivine machine

$$
Ï€ ::= âˆ™ | u â‹… Ï€
c ::= u â‹† Ï€
$$

$$
u v â‹† Ï€ ~> u â‹† v â‹… Ï€
Î»x. u â‹† v â‹… Ï€ ~> u[v] â‹† Ï€
$$

** Realisability model
Let $T$ be the set of closed terms, $Î $ the set of (closed) stacks and
$C$ the set of commands

Fix a pole $âŠ¥ âˆˆ ğ’«(C)$. The model is parametrised by this pole.

Define acceptors as sets of stacks and realisers as sets of terms
$$
|a â†’ b| âˆˆ ğ’«(Î )
|a â†’ b| â‰œ ||a|| â‹… |b|

|Î¹| âˆˆ ğ’«(Î )
|Î¹| â‰œ I^âŠ¥

||a|| âˆˆ ğ’«(C)
||a|| â‰œ |a|^âŠ¥
$$

*** TODO Define orthogonals

** Adequation

We will say that a sequent $x_1:a1,â€¦,x_n:a_n âŠ¢ u : b$ is /adequat/ if

$$
âˆ€ v_1âˆˆ||a_1||, â€¦, v_nâˆˆ||a_n||. u[v_1,â€¦,v_n] âˆˆ ||b||
$$

Our goal is to show that every derivable sequent is adequat. In
particular, for closed terms, that:
$$
âŠ¢ u : b âŸ¹ u âˆˆ ||b||
$$

This is not a composable property. It can be, however, strengthened to
a property which we will be able to compose. Namely that all the
typing rules are adequat.
g
gThis can be phrased as /all typing rule preserve adequacy of
sequents/. In other words: if all premises are adequat then the
conclusion is adequat.
s
We need to prove
$$
(âˆ€ x_1âˆˆ||a_1||, â€¦, x_nâˆˆ||a_n||, xâˆˆ||a||. u âˆˆ ||b||) âŸ¹ (âˆ€ x_1âˆˆ||a_1||, â€¦, x_nâˆˆ||a_n||. Î»x. u âˆˆ ||a â†’ b||)
(âˆ€ x_1âˆˆ||a_1||, â€¦, x_nâˆˆ||a_n||. u âˆˆ ||a â†’ b||) âˆ§ (âˆ€ x_1âˆˆ||a_1||, â€¦, x_nâˆˆ||a_n||. v âˆˆ ||a||) âŸ¹ (âˆ€ x_1âˆˆ||a_1||, â€¦, x_nâˆˆ||a_n||. u v âˆˆ ||b||)
âˆ€ x_1âˆˆ||a_1||, â€¦, x_nâˆˆ||a_n||. iâˆˆ||Î¹||
$$
